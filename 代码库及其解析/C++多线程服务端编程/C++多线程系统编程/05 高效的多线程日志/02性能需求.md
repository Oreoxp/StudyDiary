# 性能需求

​		编写 Linux 服务端程序的时候，我们需要一个高效的日志库。只有日志库足够高效，程序员才敢在代码中输出足够多的诊断信息，减小运维难度，提升效率。高效性体现在几方面:

- 每秒写几千上万条日志的时候没有明显的性能损失。
- 能应对一个进程产生大量日志数据的场景，例如 1 GB/min。
- 不阻塞正常的执行流程。
- 在多线程程序中，不造成争用 ( contention )。

这里列举一些具体的性能指标，考虑往普通  7200 rpm  SATA硬盘写日志文件的情况:

- 磁盘带宽约是 110 MB/s，日志库应该能瞬时写满这个带宽(不必持续太久)。
- 假如每条日志消息的平均长度是 110 字节，这意味着 1 秒要写 100 万条日志。

​       以上是 “ 高性能 ” 日志库的最低指标。如果磁盘带宽更高，那么日志库的预期性能指标也会相应提高。反过来说，在磁盘带宽确定的情况下，日志库的性能只要 “ 足够好 ” 就行了。假如某个神奇的日志库 1 秒能往 /dev/nu1l 写 1000 MB数据，那么到哪里去找这么快的磁盘来让程序写诊断日志呢 ?

















