[TOC]

# 先搞清楚一些问题：

版本：0.0.1（2023.7.7）

0. 具体步骤

1. 什么是RPC？
2. RPC解决了哪些需求？
3. RPC需要哪些模块、功能？
4. 具体模块的底层库该怎么选？







# 解决问题：

版本：0.0.1（2023.7.7）

### 零、具体步骤

第一阶段：详细了解gRPC、熟悉bRPC                                                                                                                （目前）

第二阶段：选择合适的实现方式描述大致框架

第三阶段：实现大致框架

第四阶段：实现底层

第五阶段：实现上层

### 一、什么是RPC？

​		RPC（Remote Procedure Call）是一种远程过程调用的协议，它允许一个计算机程序通过网络在另一个计算机上调用一个远程服务或函数，并获取其结果。它是一种用于不同计算机之间通信的技术，使得分布式系统中的不同组件能够相互交互。

​		在RPC中，客户端应用程序通过调用远程服务提供的函数或方法，就像调用本地函数一样。这个调用的过程对于客户端来说是透明的，它不需要了解底层网络通信的细节。RPC框架负责将调用的参数打包、发送给远程服务器，服务器接收到请求后执行相应的函数，并将结果返回给客户端。整个过程对于开发人员来说是透明的，就像在本地调用函数一样。

​		RPC协议可以使用不同的传输协议，如TCP、UDP等，以及不同的序列化格式，如JSON、XML等。常见的RPC框架包括gRPC、Apache Thrift、Java RMI（Remote Method Invocation）等。

​		RPC在分布式系统中有广泛应用，特别是在微服务架构中。通过使用RPC，不同的微服务可以相互通信，进行数据交换和协作，提高系统的可扩展性和灵活性。

### 二、RPC解决了哪些需求？

1. 远程调用：RPC允许在分布式系统中的不同计算机之间进行远程过程调用。它使得客户端应用程序能够透明地调用远程服务器上的函数或方法，就像调用本地函数一样。这使得分布式系统的各个组件能够相互协作，实现功能的分布和复用。
2. 抽象网络通信：RPC框架隐藏了底层网络通信的细节，为开发人员提供了一个抽象的通信接口。开发人员可以专注于业务逻辑而不必关心底层网络协议的实现。RPC框架负责将请求参数进行序列化并发送给远程服务器，并将结果反序列化并返回给客户端。
3. 透明性：RPC使得远程调用对于开发人员来说是透明的，即使是在不同的计算机上执行，调用过程也类似于本地调用。开发人员无需手动处理网络通信、数据序列化和反序列化等细节，简化了开发过程。
4. 高性能和效率：RPC框架通常会使用高效的网络传输协议和序列化格式，以提高性能和效率。例如，使用二进制序列化格式可以减少数据传输的大小，使用底层的高性能网络传输协议可以降低延迟和提高吞吐量。
5. 可扩展性：RPC框架通常支持负载均衡和服务发现等功能，使得分布式系统可以根据负载情况动态地将请求分发到不同的服务器上，从而实现系统的可扩展性。它还支持服务注册和发现，使得新的服务可以方便地加入到系统中。
6. 跨语言支持：RPC框架通常支持多种编程语言，使得不同语言编写的应用程序能够进行远程调用。这样可以在分布式系统中使用不同的编程语言来开发各个组件，提高开发的灵活性和选择性。

### 三、RPC需要哪些模块、功能？

1. 通信协议和传输层：RPC框架需要选择适合的通信协议和传输层，如TCP、UDP等，以建立网络连接并传输数据。该模块负责底层的网络通信。
2. 序列化和反序列化：RPC框架需要提供序列化和反序列化功能，将请求参数和返回结果转换为适合网络传输的格式，如二进制、JSON、XML等。这样可以在不同的计算机之间进行数据的传输和解析。
3. 远程调用接口：RPC框架需要定义远程调用接口，包括函数或方法的名称、参数类型和返回值类型等信息。客户端通过调用这些远程接口来发起远程调用请求。
4. 服务注册与发现：在分布式系统中，RPC框架通常需要提供服务注册与发现的功能。服务提供者需要将自己的服务注册到注册中心，而客户端可以从注册中心获取可用的服务列表。这样可以实现服务的动态发现和负载均衡。
5. 负载均衡：RPC框架可能需要提供负载均衡的功能，以平衡不同服务器之间的请求负载。它可以根据一定的策略将请求分发到不同的服务器上，以提高系统的性能和可扩展性。
6. 故障处理和容错机制：RPC框架需要具备故障处理和容错机制，以应对网络故障或服务不可用的情况。例如，可以设置超时时间、重试机制、断路器等来处理异常情况，并提供适当的错误处理和日志记录。
7. 安全认证和权限控制：在安全敏感的环境中，RPC框架需要提供安全认证和权限控制的功能，以确保只有经过授权的用户或服务能够进行远程调用。这可以通过加密、身份验证、访问令牌等方式来实现。
8. 监控和统计：RPC框架可以提供监控和统计功能，用于收集和展示系统的运行指标、性能数据和调用日志等信息。这有助于对系统进行监控、故障排查和性能优化。

### 四、具体模块的底层库该怎么选？

待定

















